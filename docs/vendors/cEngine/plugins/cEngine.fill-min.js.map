{"version":3,"sources":["cEngine.fill.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length","1","module","cEngine","extend","create","config","fill","cEnginePlugin","name","version","mode","useFixedResolution","aspectRetion","useResolutionDevider","resolutionDevider","engine","undefined","initHeight","initWidth","init","width","height","window","addEventListener","resizeTo","resizeToRatio","domElement","style","position","canvas","top","left","clientWidth","clientHeight","destroy","removeEventListener","ratio","transformOrigin","transform"],"mappings":"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","file":"cEngine.fill-min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/*global cEngine */\n\n(function (cEngine) {\n\n  cEngine.extend('fill', {\n\n    create: function create(config) {\n      config = config || {};\n\n      var fill = {\n\n        cEnginePlugin: {\n          name: 'fill',\n          version: '0.0.1'\n        },\n\n        /**\n         *  // full, stretch \n         *  @type {string}\n         */\n        mode: config.mode,\n\n        useFixedResolution: false,\n\n        aspectRetion: typeof config.aspectRetion != 'undefined' ? config.aspectRetion : false,\n\n        useResolutionDevider: typeof config.useResolutionDevider != 'undefined' ? config.useResolutionDevider : false,\n\n        /**\n         *  value for resolution devider\n         *  @type {number}\n         */\n        resolutionDevider: config.resolutionDevider || 2,\n\n        engine: undefined,\n\n        initHeight: undefined,\n        initWidth: undefined,\n\n        init: function init(engine) {\n          fill.engine = engine;\n          fill.initWidth = engine.width;\n          fill.initHeight = engine.height;\n\n          if (fill.mode === 'fill') {\n\n            window.addEventListener('resize', fill.resizeTo, false);\n            fill.resizeTo();\n          } else {\n\n            if (fill.aspectRetion) {\n              window.addEventListener('resize', fill.resizeToRatio, false);\n              fill.resizeToRatio();\n            }\n\n            if (fill.mode === 'stretch') {\n\n              if (engine.domElement.style.position === 'static') {\n                engine.domElement.style.position = 'relative';\n              }\n\n              engine.canvas.style.position = 'absolute';\n              engine.canvas.style.top = '0';\n              engine.canvas.style.left = '0';\n              engine.canvas.style.width = '100%';\n              engine.canvas.style.height = '100%';\n\n              engine.width = engine.domElement.clientWidth;\n              engine.height = engine.domElement.clientHeight;\n            }\n          }\n        },\n\n        destroy: function destroy() {\n          window.removeEventListener('resize', fill.resizeTo, false);\n          window.removeEventListener('resize', fill.resizeToRatio, false);\n        },\n\n        resizeToRatio: function resizeToRatio() {\n          var ratio = fill.engine.domElement.clientWidth / fill.engine.domElement.clientHeight;\n\n          fill.engine.canvas.height = fill.initHeight;\n          fill.engine.canvas.width = fill.engine.canvas.height * ratio;\n\n          fill.engine.width = fill.engine.domElement.clientWidth;\n          fill.engine.height = fill.engine.domElement.clientHeight;\n        },\n\n        resizeTo: function resizeTo() {\n          if (fill.useResolutionDevider) {\n\n            fill.engine.canvas.width = fill.engine.domElement.clientWidth / fill.engine.resolutionDevider;\n            fill.engine.canvas.height = fill.engine.domElement.clientHeight / fill.engine.resolutionDevider;\n            fill.engine.canvas.style.transformOrigin = '0% 0%';\n            var s = fill.resolutionDevider;\n            fill.engine.canvas.style.transform = 'scale(' + s + ', ' + s + ')';\n          } else {\n\n            fill.engine.canvas.width = fill.engine.domElement.clientWidth;\n            fill.engine.canvas.height = fill.engine.domElement.clientHeight;\n          }\n\n          fill.engine.width = fill.engine.domElement.clientWidth;\n          fill.engine.height = fill.engine.domElement.clientHeight;\n        }\n      };\n\n      return fill;\n    }\n  });\n})(cEngine);\n},{}]},{},[1])"],"sourceRoot":"/source/"}