!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Makrene=e()}}(function(){return function e(t,r,n){function i(c,o){if(!r[c]){if(!t[c]){var u="function"==typeof require&&require;if(!o&&u)return u(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+c+"'")}var a=r[c]={exports:{}};t[c][0].call(a.exports,function(e){var r=t[c][1][e];return i(r?r:e)},a,a.exports,e,t,r,n)}return r[c].exports}for(var s="function"==typeof require&&require,c=0;c<n.length;c++)i(n[c]);return i}({1:[function(e,t,r){t.exports={version:"0.0.8",Vertex:function(){return{edges:[],faces:[],neighbours:[],customData:{}}},Edge:function(){return{vertices:[],faces:[],neighbours:[],customData:{}}},Face:function(){return{vertices:[],edges:[],neighbours:[],customData:{}}},Graph:function(){var e={edges:[],faces:[],vertices:[],neighbours:[],customData:{},addVertex:function(t){e.vertices.push(t)},addEdge:function(t){e.edges.push(t)},addFace:function(t){e.faces.push(t)},forEach:function(t){e.vertices.forEach(t)}};return e}}},{}],2:[function(e,t,r){e("../vendorJs/polyfill"),t.exports=Object.assign(e("./base/makrene.base"),{Circle:e("./graph/makrene.graph.circle"),Grid:e("./graph/makrene.graph.grid"),Ki:{Circle:e("./ki/makrene.ki.circle")},Search:e("./search/makrene.search"),Visualizer:Object.assign(e("./visualizer/makrene.visualizer"),{Grid:e("./visualizer/makrene.visualizer.grid"),Circle:e("./visualizer/makrene.visualizer.circle")})})},{"../vendorJs/polyfill":10,"./base/makrene.base":1,"./graph/makrene.graph.circle":3,"./graph/makrene.graph.grid":4,"./ki/makrene.ki.circle":5,"./search/makrene.search":6,"./visualizer/makrene.visualizer":9,"./visualizer/makrene.visualizer.circle":7,"./visualizer/makrene.visualizer.grid":8}],3:[function(e,t,r){function n(e,t,r){var n=e.vertices[t-1];if(n){var i=e.vertices[t][r],s=n.length-1<r?0:r,o=n.length-1<r+1?0:r+1;n[s]&&(i.neighbours.push(n[s]),n[s].neighbours.push(i),c(e,i,n[s])),s!=o&&n[o]&&(i.neighbours.push(n[o]),n[o].neighbours.push(i),c(e,i,n[o]),n[s]&&u(e,i,n[s],n[o]))}}function i(e,t,r){var n=e.vertices[t+1];if(n){var i=e.vertices[t][r],s=r,o=n.length-1<r-1?n.length-1:r-1;n[s]&&(i.neighbours.push(n[s]),n[s].neighbours.push(i),c(e,i,n[s])),s!=o&&n[o]&&(i.neighbours.push(n[o]),n[o].neighbours.push(i),c(e,i,n[o]),n[s]&&u(e,i,n[s],n[o]))}}function s(e,t,r){r&&(t.neighbours.push(r),r.neighbours.push(t),c(e,t,r),t.neighbours.filter(function(e){return r!=e?r.neighbours.includes(e):void 0}).forEach(function(n){u(e,t,r,n)}))}function c(e,t,r){var n=h.Edge();n.vertices.push(t),n.vertices.push(r),n.id=e.edges.length,e.edges.push(n),r.edges.push(n),t.edges.push(n),o(n,t),o(n,r)}function o(e,t){t.edges.forEach(function(t){e==t||e.neighbours.includes(t)||(e.neighbours.push(t),t.neighbours.push(e))})}function u(e,t,r,n){var i=h.Face();i.vertices.push(t),i.vertices.push(r),i.vertices.push(n),t.faces.push(i),r.faces.push(i),n.faces.push(i),i.id=e.faces.length,e.faces.push(i),a(i,t),a(i,r),a(i,n)}function a(e,t){t.faces.forEach(function(t){e==t||e.neighbours.includes(t)||(e.neighbours.push(t),t.neighbours.push(e))})}function f(e,t,r){var n=360/e.numVertexOnLevel/2;return n+n*t+360/e.numVertexOnLevel*r}var h=e("../base/makrene.base");t.exports=function l(e){e=Object.assign({numVertexOnLevel:8},e);var t=Object.create(l.prototype,{length:{configurable:!1,get:function(){var e=0;return t.vertices.forEach(function(t){e+=t.length}),e}},isEmpty:{configurable:!1,get:function(){return 0===t.vertices.length}},middle:{configurable:!1,get:function(){return t.vertices[0]?t.vertices[0][0]:void 0}}});return Object.assign(t,e,h.Graph(),{numCircleLevels:0,push:function(e){return t.isEmpty||0!=t.numCircleLevels&&t.vertices[t.numCircleLevels].length!==t.numVertexOnLevel||t.numCircleLevels++,t.vertices[t.numCircleLevels]=t.vertices[t.numCircleLevels]||[],t.addVertexAt(t.numCircleLevels,t.vertices[t.numCircleLevels].length,e),t.length},pop:function(){return t.removeVertex(t.last())},clear:function(){t.numCircleLevels=0,t.faces=[],t.edges=[],t.vertices=[],t.neighbours=[],t.customData={}},includes:function(e){return t.filter(function(t){return t===e}).length>0},vertexAt:function(e,r){return t.vertices[e]?t.vertices[e][r]:void 0},indexOf:function(e){for(var r=0,n=t.vertices.length-1,i=0;n>=0;n--,i++){var s=t.vertices[i].indexOf(e);if(s>=0)return r+s;r+=t.vertices[i].length}return-1},addVertexAt:function(e,r,c){if(0!=t.numVertexOnLevel&&!(t.numVertexOnLevel<r||0==t.level&&0!==r)){if(t.vertices[e]=t.vertices[e]||[],"undefined"==typeof c)return void(t.vertices[e][r]=void 0);c.customData.degree=f(t,e,r),c.customData.level=e,c.id=c.customData.level+"_"+c.customData.degree,t.vertices[e][r]=c,n(t,e,r),i(t,e,r),s(t,c,t.vertices[e][(r-1+t.numVertexOnLevel)%t.numVertexOnLevel]),s(t,c,t.vertices[e][(r+1+t.numVertexOnLevel)%t.numVertexOnLevel])}},removeVertexFrom:function(e,r){return t.removeVertex(t.vertexAt(e,r))},removeVertex:function(e){return e?(e.neighbours.forEach(function(t){t.neighbours.splice(t.neighbours.indexOf(e),1)}),e.edges.forEach(function(r){r.neighbours.forEach(function(e){e.neighbours.splice(e.neighbours.indexOf(r),1)}),r.vertices.forEach(function(t){t!=e&&t.edges.splice(t.edges.indexOf(r),1)}),r.faces.forEach(function(e){e.edges.splice(e.edges.indexOf(r),1)}),t.edges.splice(t.edges.indexOf(r),1)}),e.faces.forEach(function(r){r.neighbours.forEach(function(e){e.neighbours.splice(e.neighbours.indexOf(r),1)}),r.vertices.forEach(function(t){t!=e&&t.faces.splice(t.faces.indexOf(r),1)}),r.edges.forEach(function(e){e.faces.splice(e.faces.indexOf(r),1)}),t.faces.splice(t.faces.indexOf(r),1)}),t.vertices.forEach(function(r,n){r.includes(e)&&(r.indexOf(e)==r.length-1?r.length=r.length-1:delete r[r.indexOf(e)],t.numCircleLevels==n&&0===r.length&&(t.numCircleLevels--,t.vertices.splice(t.vertices.indexOf(r),1)))}),e):void 0},forEach:function(e){t.vertices.forEach(function(t){t.forEach(e)})},filter:function(e){var r=[];return t.forEach(function(t){e(t)&&r.push(t)}),r},map:function(e){var r=[];return t.forEach(function(t){r.push(e(t))}),r},first:function(){return t.middle},last:function(){return t.vertices[t.numCircleLevels][t.vertices[t.numCircleLevels].length-1]},toString:function(){return"Makrene.Circle \n	Length: "+t.length+"\n	Edges: "+t.edges.length+"\n	Faces: "+t.faces.length}})}},{"../base/makrene.base":1}],4:[function(e,t,r){var n=e("../base/makrene.base"),i={Top:0,Right:1,Bottom:2,Left:3,TopLeft:0,TopRight:1,BottomRight:2,BottomLeft:3};t.exports=function(e){e=e||{};var t=Object.assign(n.Graph(),{rows:e.rows||0,cols:e.cols||0,init:function(){t.createVertexes(),t.linkVertexes(),t.createEdges(),t.linkEdges(),t.createFaces(),t.linkFaces()},createVertexes:function(){for(var e=t.rows-1;e>=0;e--){t.vertices[e]=[];for(var r=t.cols-1;r>=0;r--){var i=n.Vertex();i.customData.row=e,i.customData.col=r,t.vertices[e][r]=i}}},linkVertexes:function(){t.forEach(function(e,r,n){n>0&&(e.neighbours[i.Left]=t.vertices[r][n-1]),n<t.cols-1&&(e.neighbours[i.Right]=t.vertices[r][n+1]),r>0&&(e.neighbours[i.Top]=t.vertices[r-1][n]),r<t.rows-1&&(e.neighbours[i.Bottom]=t.vertices[r+1][n])})},createEdge:function(e,r){var i=n.Edge();i.vertices.push(e),i.vertices.push(r),t.edges.push(i),r.edges.push(i),e.edges.push(i)},createEdges:function(){t.forEach(function(e){e.neighbours[i.Left]&&t.createEdge(e,e.neighbours[i.Left]),e.neighbours[i.Top]&&t.createEdge(e,e.neighbours[i.Top])})},linkEdges:function(){t.edges.forEach(function(e){e.vertices.forEach(function(t){t.edges.forEach(function(t){e!=t&&e.neighbours.push(t)})})})},createFace:function(e,r,s,c){var o=[];e.edges.forEach(function(e){(e.vertices.includes(r)||e.vertices.includes(s))&&o.push(e)}),c.edges.forEach(function(e){(e.vertices.includes(r)||e.vertices.includes(s))&&o.push(e)});var u=n.Face();u.vertices[i.TopRight]=s,u.vertices[i.TopLeft]=c,u.vertices[i.BottomLeft]=r,u.vertices[i.BottomRight]=e,t.faces.push(u),e.faces.push(u),r.faces.push(u),s.faces.push(u),c.faces.push(u),o.forEach(function(e){u.edges.push(e),e.faces.push(u)})},createFaces:function(){t.forEach(function(e){e.neighbours[i.Left]&&e.neighbours[i.Top]&&t.createFace(e,e.neighbours[i.Left],e.neighbours[i.Top],e.neighbours[i.Top].neighbours[i.Left])})},linkFaces:function(){t.faces.forEach(function(e){e.vertices.forEach(function(t){t.faces.forEach(function(t){e!=t&&e.neighbours.push(t)})})})},forEach:function(e){for(var r=t.rows-1;r>=0;r--)for(var n=t.cols-1;n>=0;n--)e(t.vertices[r][n],r,n)}});return t.init(),t}},{"../base/makrene.base":1}],5:[function(e,t,r){t.exports=function(){var e={init:function(e){e.forEach(function(e){e.customData.degree=e.customData.degree%360,e.customData.Orginaldegree=e.customData.degree,e.customData.OrginalLevel=e.customData.level})},step:function(e){e.forEach(function(e){var t=e.customData.Orginaldegree,r=e.customData.degree,n=180-Math.abs(Math.abs(t-r)-180);if(Math.abs(n)>=1){var i=180-Math.abs(Math.abs(t+1-r)-180);e.customData.degree+=i>n?1:-1,e.customData.degree=e.customData.degree%360}var s=e.customData.OrginalLevel,c=e.customData.level;Math.abs(s-c)>.1&&(e.customData.level+=s>c?.1:-.1)})}};return e}},{}],6:[function(e,t,r){var n={DephFirstSearch:function(e,t,r){r=r||[];var i=[];i.pushArray(r),!r.includes(e)&&t>0&&(i.push(e),e.visit(),e.neighbours.forEach(function(e){e&&n.DephFirstSearch(e,t-1,i)}))},BreadthFirstSearch:function(e,t,r){if(r=r||[],t>0){var i=[];e.forEach(function(e){if(e){r.push(e),e.visit();for(var t=e.neighbours.length-1;t>=0;t--)r.includes(e.neighbours[t])||i.push(e.neighbours[t])}}),n.BreadthFirstSearch(i,t-1,r)}},BreadthFirstSearchIterate:function(e,t,r){if(r=r||[],0===r.length&&e.forEach(function(e){e.customData.visited=!1,e.customData.lastVisit=Number.MAX_VALUE}),0!=t.length){var i=[];return t.forEach(function(e){e&&(r.push(e),e.customData.visited=!0,e.customData.lastVisit=Date.now(),e.neighbours.forEach(function(e){!e||e.customData.visited||i.includes(e)||i.push(e)}))}),{visited:t,visitedAll:r,nextvertices:i,next:function(){return n.BreadthFirstSearchIterate(e,i,r)}}}}};t.exports=n},{}],7:[function(e,t,r){var n=e("./makrene.visualizer");t.exports=function(e,t,r){var i=(r.width-r.vertexWidth)/2,s=(r.height-r.vertexHeight)/2;n(e,t,r,function(e){return i+(Math.cos(.0174532925*e.customData.degree)*(e.customData.level*r.levelOffset)+r.vertexWidth/2)},function(e){return s+(Math.sin(.0174532925*e.customData.degree)*(e.customData.level*r.levelOffset)+r.vertexHeight/2)})}},{"./makrene.visualizer":9}],8:[function(e,t,r){var n=e("./makrene.visualizer");t.exports=function(e,t,r){n(e,t,r,function(e){return r.offset+((r.vertexWidth+r.margin)*e.customData.col+r.vertexWidth/2)},function(e){return r.offset+((r.vertexHeight+r.margin)*e.customData.row+r.vertexHeight/2)})}},{"./makrene.visualizer":9}],9:[function(e,t,r){function n(e,t,r,n,i){var s=e.measureText("M").width,c=e.measureText(t).width,o=2;e.fillStyle="white",e.fillRect(r-c/2-o,n-s/2-o,c+2*o,s+2*o),e.strokeStyle=e.fillStyle=i,e.fillText(t,r-c/2,n+s/2)}t.exports=function(e,t,r,i,s){i=i||function(e){return e.customData.x?e.customData.x:(e.customData.x=Math.random()*r.width,e.customData.x)},s=s||function(e){return e.customData.y?e.customData.y:(e.customData.y=Math.random()*r.height,e.customData.y)},t.faces.forEach(function(t){e.beginPath(),e.fillStyle="rgba(0,0,0,0.2)";var r=t.vertices[0];e.moveTo(i(r),s(r)),t.vertices.forEach(function(t){e.lineTo(i(t),s(t))}),e.fill()}),t.edges.forEach(function(t){e.beginPath(),e.lineWidth=r.lineWidth,e.strokeStyle=r.lineColor;var n=t.vertices[0],c=t.vertices[1];e.moveTo(i(n),s(n)),e.lineTo(i(c),s(c)),e.stroke()}),t.forEach(function(t){t&&(e.beginPath(),e.fillStyle=r.vertexColor,e.fillRect(i(t)-r.vertexWidth/2,s(t)-r.vertexHeight/2,r.vertexWidth,r.vertexHeight))}),t.forEach(function(t){t&&n(e,"i"+t.id+"n"+t.neighbours.length+"e"+t.edges.length+"f"+t.faces.length,i(t),s(t),"red")}),t.edges.forEach(function(t){var r=t.vertices[0],c=t.vertices[1];n(e,"i"+t.id+"n"+t.neighbours.length+"v"+t.vertices.length+"f"+t.faces.length,i(r)+(i(c)-i(r))/2,s(r)+(s(c)-s(r))/2,"blue")}),t.faces.forEach(function(t){var r=(i(t.vertices[0])+i(t.vertices[1])+i(t.vertices[2]))/3,c=(s(t.vertices[0])+s(t.vertices[1])+s(t.vertices[2]))/3;n(e,"i"+t.id+"n"+t.neighbours.length+"v"+t.vertices.length+"e"+t.edges.length,r,c,"black")})}},{}],10:[function(e,t,r){"function"!=typeof Object.assign&&!function(){Object.assign=function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(void 0!==n&&null!==n)for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t}}(),Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";var t=Object(this),r=parseInt(t.length)||0;if(0===r)return!1;var n,i=parseInt(arguments[1])||0;i>=0?n=i:(n=r+i,0>n&&(n=0));for(var s;r>n;){if(s=t[n],e===s||e!==e&&s!==s)return!0;n++}return!1}),Array.prototype.first||(Array.prototype.first=function(){return this[0]})},{}]},{},[2])(2)});
//# sourceMappingURL=makrene-min.js.map
