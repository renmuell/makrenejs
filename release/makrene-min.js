!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Makrene=e()}}(function(){return function e(t,r,n){function i(c,o){if(!r[c]){if(!t[c]){var u="function"==typeof require&&require;if(!o&&u)return u(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+c+"'")}var a=r[c]={exports:{}};t[c][0].call(a.exports,function(e){var r=t[c][1][e];return i(r?r:e)},a,a.exports,e,t,r,n)}return r[c].exports}for(var s="function"==typeof require&&require,c=0;c<n.length;c++)i(n[c]);return i}({1:[function(e,t,r){t.exports={version:"0.0.8",Vertex:function(){return{edges:[],faces:[],neighbours:[],customData:{}}},Edge:function(){return{vertices:[],faces:[],neighbours:[],customData:{}}},Face:function(){return{vertices:[],edges:[],neighbours:[],customData:{}}},Graph:function(){var e={edges:[],faces:[],vertices:[],neighbours:[],customData:{},addVertex:function(t){e.vertices.push(t)},addEdge:function(t){e.edges.push(t)},addFace:function(t){e.faces.push(t)},forEach:function(t){e.vertices.forEach(t)}};return e}}},{}],2:[function(e,t,r){e("../vendorJs/polyfill"),t.exports=Object.assign(e("./base/makrene.base"),{Circle:e("./graph/makrene.graph.circle"),Grid:e("./graph/makrene.graph.grid"),Ki:{Circle:e("./ki/makrene.ki.circle")},Search:e("./search/makrene.search"),Visualizer:Object.assign(e("./visualizer/makrene.visualizer"),{Grid:e("./visualizer/makrene.visualizer.grid"),Circle:e("./visualizer/makrene.visualizer.circle")})})},{"../vendorJs/polyfill":10,"./base/makrene.base":1,"./graph/makrene.graph.circle":3,"./graph/makrene.graph.grid":4,"./ki/makrene.ki.circle":5,"./search/makrene.search":6,"./visualizer/makrene.visualizer":9,"./visualizer/makrene.visualizer.circle":7,"./visualizer/makrene.visualizer.grid":8}],3:[function(e,t,r){!function(){function r(e,t,r){var n=e.vertices[t-1];if(n){var i=e.vertices[t][r],c=n.length-1<r?0:r,u=n.length-1<r+1?0:r+1;n[c]&&(i.neighbours.push(n[c]),n[c].neighbours.push(i),s(e,i,n[c])),c!=u&&n[u]&&(i.neighbours.push(n[u]),n[u].neighbours.push(i),s(e,i,n[u]),n[c]&&o(e,i,n[c],n[u]))}}function n(e,t,r){var n=e.vertices[t+1];if(n){var i=e.vertices[t][r],c=r,u=r-1<0?e.numVertexOnLevel-1:r-1;n[c]&&(i.neighbours.push(n[c]),n[c].neighbours.push(i),s(e,i,n[c])),c!=u&&n[u]&&(i.neighbours.push(n[u]),n[u].neighbours.push(i),s(e,i,n[u]),n[c]&&o(e,i,n[c],n[u]))}}function i(e,t,r){r&&(t.neighbours.push(r),r.neighbours.push(t),s(e,t,r),t.neighbours.filter(function(e){if(r!=e)return r.neighbours.includes(e)}).forEach(function(n){o(e,t,r,n)}))}function s(e,t,r){var n=f.Edge();n.vertices.push(t),n.vertices.push(r),n.id=e.edges.length,e.edges.push(n),r.edges.push(n),t.edges.push(n),c(n,t),c(n,r)}function c(e,t){t.edges.forEach(function(t){e==t||e.neighbours.includes(t)||(e.neighbours.push(t),t.neighbours.push(e))})}function o(e,t,r,n){var i=f.Face();i.vertices.push(t),i.vertices.push(r),i.vertices.push(n),t.faces.push(i),r.faces.push(i),n.faces.push(i),i.id=e.faces.length,e.faces.push(i),u(i,t),u(i,r),u(i,n);var s=[];s.push(t.edges.filter(function(e){return e.vertices.includes(r)}).first()),s.push(r.edges.filter(function(e){return e.vertices.includes(n)}).first()),s.push(n.edges.filter(function(e){return e.vertices.includes(t)}).first()),s.forEach(function(e){e.faces.push(i),i.edges.push(e)})}function u(e,t){t.faces.forEach(function(t){e==t||e.neighbours.includes(t)||(e.neighbours.push(t),t.neighbours.push(e))})}function a(e,t,r){var n=360/e.numVertexOnLevel/2;return n+n*t+360/e.numVertexOnLevel*r}var f=e("../base/makrene.base");t.exports=function h(e){e=Object.assign({numVertexOnLevel:8},e);var t=0,s=0,c=Object.create(h.prototype,{numVertexOnLevel:{value:e.numVertexOnLevel},numCircleLevels:{get:function(){return t}},length:{get:function(){return s}},isEmpty:{get:function(){return 0===c.vertices.length}},first:{get:function(){return c.vertices[0]?c.vertices[0][0]:void 0}},center:{get:function(){return c.first}},last:{get:function(){return c.isEmpty?void 0:1===c.length?c.center:c.vertices[t][c.vertices[t].length-1]}}});return Object.assign(c,f.Graph(),{push:function(e){return c.isEmpty||0!=t&&c.vertices[t].length!==c.numVertexOnLevel||t++,c.vertices[t]=c.vertices[t]||[],c.addVertexAt(t,c.vertices[t].length,e),c.length},pop:function(){return c.removeVertex(c.last)},shift:function(){if(!c.isEmpty){if(1===c.length)return c.pop();for(var e=[],t=c.vertices.length-1;t>=0;t--)e[t]=c.vertices[t][0],c.removeVertex(c.vertices[t][0]);for(var r=c.vertices.length-1;r>=0;r--)c.vertices[r].shift(),c.vertices[r].forEach(function(e,t){e&&(e.customData.degree=a(c,r,t),e.customData.level=r,e.id=e.customData.level+"_"+e.customData.degree)});c.addVertexAt(0,0,e[1]);for(var n=e.length-1;n>=2;n--)c.addVertexAt(n-1,c.numVertexOnLevel-1,e[n]);return e[0]}},unshift:function(e){if(c.isEmpty)return c.push(e);var t=[c.center];c.removeVertex(c.center);for(var r=c.vertices.length-1;r>=0;r--)c.vertices[r][c.numVertexOnLevel-1]&&(t[r]=c.vertices[r][c.numVertexOnLevel-1],c.removeVertex(c.vertices[r][c.numVertexOnLevel-1]));for(var n=c.vertices.length-1;n>=0;n--)c.vertices[n].unshift(void 0),c.vertices[n].forEach(function(e,t){e&&(e.customData.degree=a(c,n,t),e.customData.level=n,e.id=e.customData.level+"_"+e.customData.degree)});for(var i=t.length-1;i>=0;i--)c.addVertexAt(i+1,0,t[i]);return c.addVertexAt(0,0,e),c.length},expandFromOudside:function(e){for(e=e||c.numVertexOnLevel;e>0;e--)c.push(f.Vertex());return c.length},expandFromInside:function(e){for(e=e||c.numVertexOnLevel;e>0;e--)c.unshift(f.Vertex());return c.length},collapseFromOudside:function(e){var t=[];for(e=e||c.numVertexOnLevel;e>0;e--)t.push(c.pop());return t},collapseFromInside:function(e){var t=[];for(e=e||c.numVertexOnLevel;e>0;e--)t.push(c.shift());return t},clear:function(){t=0,s=0,c.faces=[],c.edges=[],c.vertices=[],c.neighbours=[],c.customData={}},includes:function(e){return c.filter(function(t){return t===e}).length>0},vertexAt:function(e,t){return c.vertices[e]?c.vertices[e][t]:void 0},indexOf:function(e){for(var t=0,r=c.vertices.length-1,n=0;r>=0;r--,n++){var i=c.vertices[n].indexOf(e);if(i>=0)return t+i;t+=c.vertices[n].length}return-1},addVertexAt:function(e,t,o){if(0!=c.numVertexOnLevel&&!(c.numVertexOnLevel<t||0==c.level&&0!==t)){if(c.vertices[e]=c.vertices[e]||[],"undefined"==typeof o)return void(c.vertices[e][t]=void 0);o.customData.degree=a(c,e,t),o.customData.level=e,o.id=o.customData.level+"_"+o.customData.degree,c.vertices[e][t]=o,0===e?c.vertices[1]&&c.vertices[1].forEach(function(e,t){c.removeVertex(e),c.addVertexAt(1,t,e)}):(r(c,e,t),n(c,e,t),i(c,o,c.vertices[e][(t-1+c.numVertexOnLevel)%c.numVertexOnLevel]),i(c,o,c.vertices[e][(t+1+c.numVertexOnLevel)%c.numVertexOnLevel])),s++}},removeVertexFrom:function(e,t){return c.removeVertex(c.vertexAt(e,t))},removeVertex:function(e){if(e)return e.neighbours.forEach(function(t){t.neighbours.splice(t.neighbours.indexOf(e),1)}),e.edges.forEach(function(t){t.neighbours.forEach(function(e){e.neighbours.splice(e.neighbours.indexOf(t),1)}),t.vertices.forEach(function(r){r!=e&&r.edges.splice(r.edges.indexOf(t),1)}),t.faces.forEach(function(e){e.edges.splice(e.edges.indexOf(t),1)}),c.edges.splice(c.edges.indexOf(t),1)}),e.faces.forEach(function(t){t.neighbours.forEach(function(e){e.neighbours.splice(e.neighbours.indexOf(t),1)}),t.vertices.forEach(function(r){r!=e&&r.faces.splice(r.faces.indexOf(t),1)}),t.edges.forEach(function(e){e.faces.splice(e.faces.indexOf(t),1)}),c.faces.splice(c.faces.indexOf(t),1)}),c.vertices.forEach(function(r,n){r.includes(e)&&(r.indexOf(e)==r.length-1?r.length=r.length-1:delete r[r.indexOf(e)],t==n&&0===r.length&&(0===c.numCircleLevels?c.vertices=[]:(t--,c.vertices.splice(c.vertices.indexOf(r),1))))}),e.edges=[],e.faces=[],e.neighbours=[],s--,e},forEach:function(e){c.vertices.forEach(function(t){t.forEach(e)})},filter:function(e){var t=[];return c.forEach(function(r){e(r)&&t.push(r)}),t},map:function(e){var t=[];return c.forEach(function(r){t.push(e(r))}),t},toString:function(){return"Makrene.Circle \n\tLength: "+c.length+"\n\tEdges: "+c.edges.length+"\n\tFaces: "+c.faces.length}})}}()},{"../base/makrene.base":1}],4:[function(e,t,r){var n=e("../base/makrene.base"),i={Top:0,Right:1,Bottom:2,Left:3,TopLeft:0,TopRight:1,BottomRight:2,BottomLeft:3};t.exports=function(e){e=e||{};var t=Object.assign(n.Graph(),{rows:e.rows||0,cols:e.cols||0,init:function(){t.createVertexes(),t.linkVertexes(),t.createEdges(),t.linkEdges(),t.createFaces(),t.linkFaces()},createVertexes:function(){for(var e=t.rows-1;e>=0;e--){t.vertices[e]=[];for(var r=t.cols-1;r>=0;r--){var i=n.Vertex();i.customData.row=e,i.customData.col=r,t.vertices[e][r]=i}}},linkVertexes:function(){t.forEach(function(e,r,n){n>0&&(e.neighbours[i.Left]=t.vertices[r][n-1]),n<t.cols-1&&(e.neighbours[i.Right]=t.vertices[r][n+1]),r>0&&(e.neighbours[i.Top]=t.vertices[r-1][n]),r<t.rows-1&&(e.neighbours[i.Bottom]=t.vertices[r+1][n])})},createEdge:function(e,r){var i=n.Edge();i.vertices.push(e),i.vertices.push(r),t.edges.push(i),r.edges.push(i),e.edges.push(i)},createEdges:function(){t.forEach(function(e){e.neighbours[i.Left]&&t.createEdge(e,e.neighbours[i.Left]),e.neighbours[i.Top]&&t.createEdge(e,e.neighbours[i.Top])})},linkEdges:function(){t.edges.forEach(function(e){e.vertices.forEach(function(t){t.edges.forEach(function(t){e!=t&&e.neighbours.push(t)})})})},createFace:function(e,r,s,c){var o=[];e.edges.forEach(function(e){(e.vertices.includes(r)||e.vertices.includes(s))&&o.push(e)}),c.edges.forEach(function(e){(e.vertices.includes(r)||e.vertices.includes(s))&&o.push(e)});var u=n.Face();u.vertices[i.TopRight]=s,u.vertices[i.TopLeft]=c,u.vertices[i.BottomLeft]=r,u.vertices[i.BottomRight]=e,t.faces.push(u),e.faces.push(u),r.faces.push(u),s.faces.push(u),c.faces.push(u),o.forEach(function(e){u.edges.push(e),e.faces.push(u)})},createFaces:function(){t.forEach(function(e){e.neighbours[i.Left]&&e.neighbours[i.Top]&&t.createFace(e,e.neighbours[i.Left],e.neighbours[i.Top],e.neighbours[i.Top].neighbours[i.Left])})},linkFaces:function(){t.faces.forEach(function(e){e.vertices.forEach(function(t){t.faces.forEach(function(t){e!=t&&e.neighbours.push(t)})})})},forEach:function(e){for(var r=t.rows-1;r>=0;r--)for(var n=t.cols-1;n>=0;n--)e(t.vertices[r][n],r,n)}});return t.init(),t}},{"../base/makrene.base":1}],5:[function(e,t,r){t.exports=function(){var e={init:function(e){e.forEach(function(e){e.customData.degree=e.customData.degree%360,e.customData.Orginaldegree=e.customData.degree,e.customData.OrginalLevel=e.customData.level})},step:function(e){e.forEach(function(e){var t=e.customData.Orginaldegree,r=e.customData.degree,n=180-Math.abs(Math.abs(t-r)-180);if(Math.abs(n)>=1){var i=180-Math.abs(Math.abs(t+1-r)-180);e.customData.degree+=i>n?1:-1,e.customData.degree=e.customData.degree%360}var s=e.customData.OrginalLevel,c=e.customData.level;Math.abs(s-c)>.1&&(e.customData.level+=s>c?.1:-.1)})}};return e}},{}],6:[function(e,t,r){var n={DephFirstSearch:function(e,t,r){r=r||[];var i=[];i.pushArray(r),!r.includes(e)&&t>0&&(i.push(e),e.visit(),e.neighbours.forEach(function(e){e&&n.DephFirstSearch(e,t-1,i)}))},BreadthFirstSearch:function(e,t,r){if(r=r||[],t>0){var i=[];e.forEach(function(e){if(e){r.push(e),e.visit();for(var t=e.neighbours.length-1;t>=0;t--)r.includes(e.neighbours[t])||i.push(e.neighbours[t])}}),n.BreadthFirstSearch(i,t-1,r)}},BreadthFirstSearchIterate:function(e,t,r){if(r=r||[],0===r.length&&e.forEach(function(e){e.customData.visited=!1,e.customData.lastVisit=Number.MAX_VALUE}),0!=t.length){var i=[];return t.forEach(function(e){e&&(r.push(e),e.customData.visited=!0,e.customData.lastVisit=Date.now(),e.neighbours.forEach(function(e){!e||e.customData.visited||i.includes(e)||i.push(e)}))}),{visited:t,visitedAll:r,nextvertices:i,next:function(){return n.BreadthFirstSearchIterate(e,i,r)}}}}};t.exports=n},{}],7:[function(e,t,r){var n=e("./makrene.visualizer");t.exports=function(e,t,r){var i=(r.width-r.vertexWidth)/2,s=(r.height-r.vertexHeight)/2;n(e,t,r,function(e){return i+(Math.cos(.0174532925*e.customData.degree)*(e.customData.level*r.levelOffset)+r.vertexWidth/2)},function(e){return s+(Math.sin(.0174532925*e.customData.degree)*(e.customData.level*r.levelOffset)+r.vertexHeight/2)})}},{"./makrene.visualizer":9}],8:[function(e,t,r){var n=e("./makrene.visualizer");t.exports=function(e,t,r){n(e,t,r,function(e){return r.offset+((r.vertexWidth+r.margin)*e.customData.col+r.vertexWidth/2)},function(e){return r.offset+((r.vertexHeight+r.margin)*e.customData.row+r.vertexHeight/2)})}},{"./makrene.visualizer":9}],9:[function(e,t,r){function n(e,t,r,n,i){var s=e.measureText("M").width,c=e.measureText(t).width,o=2;e.fillStyle="white",e.fillRect(r-c/2-o,n-s/2-o,c+2*o,s+2*o),e.strokeStyle=e.fillStyle=i,e.fillText(t,r-c/2,n+s/2)}t.exports=function(e,t,r,i,s){i=i||function(e){return e.customData.x?e.customData.x:(e.customData.x=Math.random()*r.width,e.customData.x)},s=s||function(e){return e.customData.y?e.customData.y:(e.customData.y=Math.random()*r.height,e.customData.y)},t.faces.forEach(function(t){e.beginPath(),e.fillStyle="rgba(0,0,0,0.2)";var r=t.vertices[0];e.moveTo(i(r),s(r)),t.vertices.forEach(function(t){e.lineTo(i(t),s(t))}),e.fill()}),t.edges.forEach(function(t){e.beginPath(),e.lineWidth=r.lineWidth,e.strokeStyle=r.lineColor;var n=t.vertices[0],c=t.vertices[1];e.moveTo(i(n),s(n)),e.lineTo(i(c),s(c)),e.stroke()}),t.forEach(function(t){t&&(e.beginPath(),e.fillStyle=r.vertexColor,e.fillRect(i(t)-r.vertexWidth/2,s(t)-r.vertexHeight/2,r.vertexWidth,r.vertexHeight))}),t.forEach(function(t){t&&n(e,"i"+t.id+"n"+t.neighbours.length+"e"+t.edges.length+"f"+t.faces.length,i(t),s(t),"red")}),t.edges.forEach(function(t){var r=t.vertices[0],c=t.vertices[1];n(e,"i"+t.id+"n"+t.neighbours.length+"v"+t.vertices.length+"f"+t.faces.length,i(r)+(i(c)-i(r))/2,s(r)+(s(c)-s(r))/2,"blue")}),t.faces.forEach(function(t){var r=(i(t.vertices[0])+i(t.vertices[1])+i(t.vertices[2]))/3,c=(s(t.vertices[0])+s(t.vertices[1])+s(t.vertices[2]))/3;n(e,"i"+t.id+"n"+t.neighbours.length+"v"+t.vertices.length+"e"+t.edges.length,r,c,"black")})}},{}],10:[function(e,t,r){"function"!=typeof Object.assign&&!function(){Object.assign=function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(void 0!==n&&null!==n)for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t}}(),Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";var t=Object(this),r=parseInt(t.length)||0;if(0===r)return!1;var n,i=parseInt(arguments[1])||0;i>=0?n=i:(n=r+i,n<0&&(n=0));for(var s;n<r;){if(s=t[n],e===s||e!==e&&s!==s)return!0;n++}return!1}),Array.prototype.first||(Array.prototype.first=function(){return this[0]})},{}]},{},[2])(2)});
//# sourceMappingURL=makrene-min.js.map
